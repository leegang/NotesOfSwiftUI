# 步进器Stepper, DatePicker, DateFormatter

## 用步进器输入数值

SwiftUI有两种让用户输入数字的方式，而我们将在这里使用的一种是步进器：一个简单的`-`和`+`按钮，可以点击来选择一个精确的数字。 另一个选择是`Slider`，我们稍后将使用它，它也使我们可以从一系列值中进行选择，但不太精确。

步进器非常聪明，可以处理您喜欢的任何类型的数字类型–您可以将它们绑定到`Int`，`Double`和更多类型，它将自动适应。 例如，我们可以创建如下属性：
```swift
@State private var sleepAmount = 8.0
```
然后我们可以把它绑定到一个步进器上，这样它就会显示当前值，就像这样:
```swift
Stepper(value: $sleepAmount) {
    Text("\(sleepAmount) hours")
}
```
当这段代码运行时，您将看到8.000000小时，您可以点击- 或 +，向下到7、6、5并进入负数，或者向上到9、10、11，等等。

默认情况下，步进器仅受其存储范围的限制。 在此示例中，我们使用Double，这意味着滑块的最大值将为1.7976931348623157e + 308。 这是科学计数法，它的意思是“ 1.79769乘以10的308的幂” 。更简单地说，这确实是一个非常大的数字。

现在，作为两个孩子的父亲，你不知道我有多爱睡觉，尽管我也睡不好。幸运的是，Stepper允许我们通过提供一个`in`范围来限制我们想要接受的值，就像这样，想睡几小时就睡几小时:
```swift
Stepper(value: $sleepAmount, in: 4...12) {
    Text("\(sleepAmount) hours")
}
```
有了这个改动，步进器将从8开始，然后允许用户在4和12之间移动，但不能超过这个范围。这允许我们控制睡眠范围，使用户不能尝试24小时睡眠，也让我们拒绝不可能的值，例如你不能睡-1小时。

还有第三个有用的步进参数`Stetpper`，即步进值—每次—或+移动值的距离`step`。同样，这可以是任何类型的数字，但它需要匹配用于绑定的类型。因此，如果绑定到整数，则不能使用Double作为步骤值。

在这种情况下，我们可能会说，用户可以选择4到12之间的任何睡眠值，以15分钟的增量移动:
```swift
Stepper(value: $sleepAmount, in: 4...12, step: 0.25) {
    Text("\(sleepAmount) hours")
}
```
这开始看起来很有用-我们拥有合理范围的精确值，合理的步长增量，并且用户每次都能准确看到他们选择的内容。

不过，在继续之前，请先解决该问题：现在显示为8.000000，虽然准确，但太长了。之前我们使用过这样的字符串插值说明符:
```swift
Text("\(sleepAmount, specifier: "%.2f") hours")
```
我们可以在这里使用它，但看起来很奇怪：“ 8.00小时”似乎过于学术。 这是“％g”说明符在起作用的一个很好的例子，因为它会自动从数字末尾删除不重要的零。 因此，它将显示8、8.25、8.5、8.75、9，依此类推，用户阅读起来自然得多。